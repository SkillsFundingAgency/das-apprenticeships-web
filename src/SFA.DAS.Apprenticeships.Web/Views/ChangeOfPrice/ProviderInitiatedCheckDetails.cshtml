@using SFA.DAS.Apprenticeships.Web.Controllers;
@model CreateChangeOfPriceModel
@{
	ViewData["Title"] = "Check your changes before sending to the employer - Manage apprenticeships";
}

<div class="govuk-grid-row">
	<div class="govuk-grid-column-two-thirds">
		<h1 class="govuk-heading-l">Check your changes before sending to the employer</h1>
		<h2 class="govuk-heading-m">Changes you're requesting</h2>
		<table class="govuk-table">
			<thead class="govuk-table__head">
				<tr class="govuk-table__row">
					<th scope="col" class="govuk-table__header app-custom-class " style="width=250px;">

					</th>
					<th scope="col" class="govuk-table__header app-custom-class">Current</th>
					<th scope="col" class="govuk-table__header app-custom-class govuk-!-width-one-third">Requested
					</th>
                    <th scope="col" class="govuk-table__header app-custom-class ">
					</th>
				</tr>
			</thead>
			<tbody class="govuk-table__body">

				<component type="typeof(DetailsRowComponent)" 
					param-Id='"Trainingprice"'
						   param-Label='"Training price"'
						   param-OrginalValue='Model.OriginalTrainingPrice.FormatCurrency()'
						   param-Value='Model.ApprenticeshipTrainingPrice.FormatCurrency()'
						   param-Url='$"/provider/{Model.ProviderReferenceNumber}/ChangeOfPrice/{Model.ApprenticeshipHashedId}/edit/{Model.CacheKey}"'
						   render-mode="Static" />
				
				<component type="typeof(DetailsRowComponent)"
						   param-Id='"EndPointAssessmentPrice"'
						   param-Label='"End-point assessment price"'
						   param-OrginalValue='Model.OriginalEndPointAssessmentPrice.FormatCurrency()'
						   param-Value='Model.ApprenticeshipEndPointAssessmentPrice.FormatCurrency()'
						   param-Url='$"/provider/{Model.ProviderReferenceNumber}/ChangeOfPrice/{Model.ApprenticeshipHashedId}/edit/{Model.CacheKey}"'
						   render-mode="Static" />

				<component type="typeof(DetailsRowComponent)"
						   param-Id='"TotalPrice"'
						   param-Label='"Total price"'
						   param-OrginalValue='(Model.OriginalTrainingPrice + Model.OriginalEndPointAssessmentPrice).FormatCurrency()'
						   param-Value='Model.ApprenticeshipTotalPrice.FormatCurrency()'
						   param-Url='$"/provider/{Model.ProviderReferenceNumber}/ChangeOfPrice/{Model.ApprenticeshipHashedId}/edit/{Model.CacheKey}"'
						   render-mode="Static" />
			</tbody>
		</table>
		<dl class="govuk-summary-list govuk-summary-list--no-border">
			
			<div class="govuk-summary-list__row">
				<dt class="govuk-summary-list__key">
					Effective from date
				</dt>

    
				<dd class="govuk-summary-list__value govuk-!-width-one-quarter" style="padding-left:10px;">
					24

					
					August
					

					2023
				</dd>
                <dd class="govuk-summary-list__actions">
                    <a class="govuk-link" href="02-update-price-2#date">
                      Change<span class="govuk-visually-hidden"> date</span>
                    </a>
                  </dd>
			</div>
            <div class="govuk-summary-list__row">
				<dt class="govuk-summary-list__key">
					Reason for change
				</dt>
				<dd class="govuk-summary-list__value govuk-!-width-three-quarters" style="padding-left:10px;">
					The original price was entered incorrectly, this has been confirmed with the employer.
				</dd>

                <dd class="govuk-summary-list__actions" style="text-align: right;">
                    <a class="govuk-link" href="02-update-price-2#reason-for-change">
                      Change<span class="govuk-visually-hidden"> reason for change</span>
                    </a>
                  </dd>
			</div>

		</dl>
	</div>
</div>
<div class="govuk-grid-row">
	<div class="govuk-grid-column-two-thirds">
		<h2 class="govuk-heading-m">Now send to the employer for approval</h2>
		<p class="govuk-body">Your payment schedule will not change until the employer approves your request.</p>
		<form action="confirmation" method="post" novalidate="">
			<input type="hidden" name="answers-checked" value="true">
			<div class="govuk-button-group">
				<button class="govuk-button" data-module="govuk-button">
					Send
				</button>
				<a class="govuk-link" href="02-update-price-2">Go back to edit changes</a>
			</div>
		</form>
	</div>
</div>