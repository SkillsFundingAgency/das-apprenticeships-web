@using SFA.DAS.Apprenticeships.Web.Models.ChangeOfStartDate
@model ProviderPlannedEndDateModel
@{
    ViewData["Title"] = "Confirm the planned training end date - Manage apprenticeships";
    var backlink = $"/provider/{Model.ProviderReferenceNumber}/ChangeOfStartDate/{Model.ApprenticeshipHashedId}/edit?cacheKey={Model.CacheKey}&view=startDate";
}

<div class="govuk-width-container ">

    <a href=@backlink class="govuk-back-link">Back</a>

    @await Html.PartialAsync("_validationSummary")

    <main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing" id="main-content" role="main">

        <form method="post" action="/provider/@Model.ProviderReferenceNumber/ChangeOfStartDate/@Model.ApprenticeshipHashedId/checkDetails">
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m=> m.CacheKey)
            @Html.HiddenFor(m=> m.ApprenticeshipKey)
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">

                    <h1 class="govuk-heading-l">Confirm the planned training end date</h1>

                    <p class="govuk-inset-text" style="font-weight: bold;">
                        The old planned training end date was @Model.OriginalPlannedEndDate?.ToString("d MMMM yyyy"). 
                        Due to the change of start date the planned training end date needs to be on or after @Model.SuggestedEndDate?.Date?.ToString("d MMMM yyyy").
                    </p>


                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset" aria-describedby="contact-hint">

                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="contact" name="contact" type="radio" value="confirm-date">
                                    <label class="govuk-label govuk-radios__label" for="contact">
                                        Confirm new planned traning date as 25 10 2024
                                    </label>
                                </div>

                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="contact-2" name="contact" type="radio" value="enter-own" aria-controls="conditional-date" aria-expanded="false">
                                    <label class="govuk-label govuk-radios__label" for="contact-2">
                                        Enter a new planned training end date
                                    </label>
                                </div>
                                <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-date">
                                    <div class="govuk-form-group">
                                        <label class="govuk-label" for="contact-by-phone">
                                            <!-- Enter new date -->
                                            The planned training end date needs to be on or after 25 10 2024.
                                        </label>
                                        <!-- start date feild -->
                                        <div class="govuk-date-input" id="passport-issued">
                                            <div class="govuk-date-input__item">
                                                <div class="govuk-form-group">
                                                    <label class="govuk-label govuk-date-input__label" for="passport-issued-day">
                                                        Day
                                                    </label>
                                                    <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="passport-issued-day" name="planned-end-day-tp-start" value="" type="text" inputmode="numeric">
                                                </div>
                                            </div>
                                            <div class="govuk-date-input__item">
                                                <div class="govuk-form-group">
                                                    <label class="govuk-label govuk-date-input__label" for="passport-issued-month">
                                                        Month
                                                    </label>
                                                    <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="passport-issued-month" name="planned-end-month-tp-start" value="" type="text" inputmode="numeric">
                                                </div>
                                            </div>
                                            <div class="govuk-date-input__item">
                                                <div class="govuk-form-group">
                                                    <label class="govuk-label govuk-date-input__label" for="passport-issued-year">
                                                        Year
                                                    </label>
                                                    <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="passport-issued-year" name="planned-end-year-tp-start" value="" type="text" inputmode="numeric">
                                                </div>
                                            </div>
                                        </div>

                                        <!-- end date feild  -->

                                    </div>
                                </div>


                            </div>
                        </fieldset>
                    </div>


                </div>

            </div>
            <button class="govuk-button" data-module="govuk-button" type="submit" id="buttonSubmitForm">
                Continue
            </button>

        </form>
    </main>
</div>